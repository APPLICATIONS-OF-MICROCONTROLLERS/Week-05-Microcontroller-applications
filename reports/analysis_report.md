# รายงานการวิเคราะห์: ประสิทธิภาพ Dual-Core ของ ESP32

## 1. บทนำ
รายงานนี้สรุปผลการวิเคราะห์ประสิทธิภาพของ ESP32 แบบ Dual-Core โดยเน้นที่การกำหนดบทบาทของแต่ละคอร์, ความหน่วงของการสื่อสารระหว่างคอร์, และการกระจายงานระหว่างคอร์

## 2. การกำหนดบทบาทของคอร์ (Core Specialization)
จากผลการทดลอง พบว่าแต่ละคอร์มีลักษณะการทำงานที่แตกต่างกัน:

- **Core 0 (PRO_CPU)**: คอร์นี้มีประสิทธิภาพสูงในการทำงานที่ต้องการเวลาประมวลผลต่ำ โดยมีเวลาเฉลี่ยต่อการทำงานแต่ละครั้งอยู่ที่ **105 μs** เหมาะกับงานที่ต้องการความเร็วและความแม่นยำสูง
- **Core 1 (APP_CPU)**: คอร์นี้มีเวลาเฉลี่ยต่อการทำงานแต่ละครั้งอยู่ที่ **9652 μs** ซึ่งเหมาะกับงานที่ซับซ้อนและสามารถรับการหน่วงเวลาได้

## 3. ความหน่วงของการสื่อสารระหว่างคอร์ (Communication Overhead)
การสื่อสารระหว่างคอร์มีความหน่วงที่สูง โดยเฉลี่ยประมาณ **16,000 μs** ซึ่งทำให้การสื่อสารระหว่างคอร์เป็นปัจจัยขัดขวางประสิทธิภาพเมื่อส่งข้อความหรือข้อมูลบ่อยๆ

## 4. การกระจายงานระหว่างคอร์ (Load Balancing)
ผลการทดลองแสดงให้เห็นว่าการกระจายงานระหว่างคอร์ยังไม่สมดุล:

- **Core 0** ทำงานเสร็จ **100 ครั้ง** ใน **4996 ms** ซึ่งแสดงถึงประสิทธิภาพที่สูง
- **Core 1** ทำงานเสร็จ **150 ครั้ง** ใน **5946 ms** ซึ่งช้ากว่าและไม่สามารถใช้ประสิทธิภาพของคอร์ได้เต็มที่ ส่งผลให้เกิดความไม่สมดุลระหว่างคอร์

## 5. สรุป
จากการทดลองพบข้อสังเกตหลักๆ ดังนี้:
- **การกำหนดบทบาทของคอร์** ควรให้คอร์ 0 ทำงานที่ต้องการการประมวลผลเร็ว และคอร์ 1 ทำงานที่มีความซับซ้อนสูง
- **ความหน่วงของการสื่อสาร** ระหว่างคอร์ควรลดลงเพื่อเพิ่มประสิทธิภาพ
- **การกระจายงานระหว่างคอร์** ควรได้รับการปรับปรุงเพื่อให้ทั้งสองคอร์ทำงานได้มีประสิทธิภาพสูงสุด
